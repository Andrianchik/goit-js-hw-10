{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputTimer = document.querySelector('#datetime-picker');\nconst buttonTimer = document.querySelector('button[data-start]');\nconst days = document.querySelector('span[data-days]');\nconst hours = document.querySelector('span[data-hours]');\nconst minutes = document.querySelector('span[data-minutes]');\nconst seconds = document.querySelector('span[data-seconds]');\n\nlet userSelectedDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate < Date.now()) {\n      buttonTimer.setAttribute('disabled', '');\n      buttonTimer.style.backgroundColor = '#CFCFCF';\n      buttonTimer.style.color = '#989898';\n\n      iziToast.error({\n        message: 'Please choose a date in the future',\n      });\n    } else {\n      buttonTimer.removeAttribute('disabled');\n      buttonTimer.style.backgroundColor = '';\n      buttonTimer.style.color = '';\n    }\n  },\n};\n\nflatpickr('#datetime-picker', options);\n\nbuttonTimer.addEventListener('click', activeTimer);\n\nfunction activeTimer() {\n  inputTimer.setAttribute('disabled', '');\n  buttonTimer.setAttribute('disabled', '');\n  buttonTimer.style.backgroundColor = '#CFCFCF';\n  buttonTimer.style.color = '#989898';\n\n  let diffTime = userSelectedDate - Date.now(); // Використовуємо поточний час\n  const secondInterval = setInterval(() => {\n    if (diffTime > 0) {\n      const newTimer = convertMs(diffTime);\n\n      days.textContent = addZero(newTimer.days);\n      hours.textContent = addZero(newTimer.hours);\n      minutes.textContent = addZero(newTimer.minutes);\n      seconds.textContent = addZero(newTimer.seconds);\n\n      diffTime -= 1000;\n    } else {\n      clearInterval(secondInterval);\n    }\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addZero(num) {\n  return num.toString().padStart(2, '0');\n}\n"],"names":["inputTimer","buttonTimer","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","activeTimer","diffTime","secondInterval","newTimer","convertMs","addZero","ms","num"],"mappings":"+IAMA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAE3D,IAAIC,EAAmB,KAEvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAC9BF,EAAmB,KAAK,OAC1BL,EAAY,aAAa,WAAY,EAAE,EACvCA,EAAY,MAAM,gBAAkB,UACpCA,EAAY,MAAM,MAAQ,UAE1BQ,EAAS,MAAM,CACb,QAAS,oCACjB,CAAO,IAEDR,EAAY,gBAAgB,UAAU,EACtCA,EAAY,MAAM,gBAAkB,GACpCA,EAAY,MAAM,MAAQ,GAE7B,CACH,EAEAS,EAAU,mBAAoBH,CAAO,EAErCN,EAAY,iBAAiB,QAASU,CAAW,EAEjD,SAASA,GAAc,CACrBX,EAAW,aAAa,WAAY,EAAE,EACtCC,EAAY,aAAa,WAAY,EAAE,EACvCA,EAAY,MAAM,gBAAkB,UACpCA,EAAY,MAAM,MAAQ,UAE1B,IAAIW,EAAWN,EAAmB,KAAK,IAAG,EAC1C,MAAMO,EAAiB,YAAY,IAAM,CACvC,GAAID,EAAW,EAAG,CAChB,MAAME,EAAWC,EAAUH,CAAQ,EAEnCV,EAAK,YAAcc,EAAQF,EAAS,IAAI,EACxCX,EAAM,YAAca,EAAQF,EAAS,KAAK,EAC1CV,EAAQ,YAAcY,EAAQF,EAAS,OAAO,EAC9CT,EAAQ,YAAcW,EAAQF,EAAS,OAAO,EAE9CF,GAAY,GAClB,MACM,cAAcC,CAAc,CAE/B,EAAE,GAAI,CACT,CAEA,SAASE,EAAUE,EAAI,CAMrB,MAAMf,EAAO,KAAK,MAAMe,EAAK,KAAG,EAC1Bd,EAAQ,KAAK,MAAOc,EAAK,MAAO,IAAI,EACpCb,EAAU,KAAK,MAAQa,EAAK,MAAO,KAAQ,GAAM,EACjDZ,EAAU,KAAK,MAASY,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAf,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASW,EAAQE,EAAK,CACpB,OAAOA,EAAI,SAAU,EAAC,SAAS,EAAG,GAAG,CACvC"}